<ion-header>
  <ion-toolbar>
    <ion-title>
      <span style="font-size: 18px;letter-spacing: 2px;font-family: serif;"> Details</span>
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <span ion-text color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [ngClass]="{'no-scroll': showImgSlide}">
  <ion-fab style="margin-left: 85%;" (click)="gotoEditPage()" *ngIf="allowEdit && !showImgSlide">
    <button ion-fab mini>
      <ion-icon name="create"></ion-icon>
    </button>
  </ion-fab>
  <div style="position: absolute;width: 100%;">
    <div>
      <ion-row>
        <ion-col>
          <ion-row>
            <span class="book-name">{{ bookObj.name}}</span>
          </ion-row>
          <ion-row>
            <span class="book-author" *ngIf="bookObj.author">
              <span style="color:#999; padding-right:2px;">by</span> {{ bookObj.author}}</span>
          </ion-row>
        </ion-col>
        <div style="margin-left:90%;color: #555;font-size:1.5em;margin-top:-28px;">
          <ion-icon name="share" (click)="share()"></ion-icon>
        </div>
      </ion-row>

      <ion-grid>
        <ion-row>
          <ion-col col-4 *ngFor="let photo of bookObj.bookImages; let id = index">
            <ion-card class="block" (click)="showImgSlide=true">
              <img alt="No Image" [src]="'data:image/jpeg;base64,' + photo.image.data" />
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
      <div class="book-price">
        <span class="a-price-text">Price: </span>
        <span class="a-price-symbol">â‚¹</span>
        <span class="a-price-whole">{{bookObj.price}}</span>
        <div class="book-posted-on"> <span>Posted on - </span><span>{{bookObj.created_date | date:'dd/MM/yyyy' }}</span> </div>
      </div>
    </div>

    <div class="book-info-div-card" *ngIf="bookObj.description">
      <div class="book-info-div-card-content">
        <strong>Description</strong>
        <span>
           <p> {{ bookObj.description}} </p>
         </span>
      </div>
    </div>
    <div class="info-div-card">
      <div class="book-info-div-card-content">
        <strong>Book information</strong>
        <div class="book-info-grid">
          <ion-row>
            <ion-col class="book-info-grid-header my-thin-col"> Book Type</ion-col>
            <ion-col class="book-info-grid-content"> {{ bookObj.bookType}}</ion-col>
          </ion-row>
         <ion-row>
            <ion-col  class="book-info-grid-header my-thin-col"> Publisher</ion-col>
            <ion-col class="book-info-grid-content"> {{ bookObj.publisher}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col class="book-info-grid-header my-thin-col"> Edition</ion-col>
            <ion-col class="book-info-grid-content"> {{ bookObj.edition}}</ion-col>
          </ion-row>
          <div *ngIf="bookObj.isAcademic == 'Y'">
            <ion-row>
              <ion-col class="book-info-grid-header my-thin-col"> Course</ion-col>
              <ion-col class="book-info-grid-content"> {{ bookObj.bookAcademic[0]?.course}}</ion-col>
            </ion-row>
            <ion-row *ngIf="bookObj.bookAcademic[0]?.subcourse">
              <ion-col class="book-info-grid-header my-thin-col"> Degree</ion-col>
              <ion-col class="book-info-grid-content"> {{ bookObj.bookAcademic[0]?.subcourse}}</ion-col>
            </ion-row>
            <ion-row>
              <ion-col class="book-info-grid-header my-thin-col"> Branch</ion-col>
              <ion-col class="book-info-grid-content"> {{ bookObj.bookAcademic[0]?.branch}}</ion-col>
            </ion-row>
            <ion-row>
              <ion-col class="book-info-grid-header my-thin-col"> Year/Sem</ion-col>
              <ion-col class="book-info-grid-content"> {{ bookObj.bookAcademic[0]?.year}}
                    {{ bookObj.bookAcademic[0]?.sem}}</ion-col>
            </ion-row>
          </div>
        </div>
      </div>
    </div>
    <div class="buy-book">
       <button  ion-button class="btn-buy" (click)="showBuyOptions(book)"> Buy This Book</button>
    </div>
      <div *ngIf="showBuyOptionsFlag" class="show-buy-options">
       <div class="fragment">
        <i class="material-icons closeButton">close</i>
    <div>
    <p class="text">
        this is a short description yada yada peanuts etc this is a short description yada yada peanuts etc this is a short description yada yada peanuts etc this is a short description yada yada peanuts etcthis is a short description yada yada peanuts etc
    </p>
</div>
</div>
  </div>




    <!-- <ion-segment [(ngModel)]="tabInfo" (ionChange)="onSegmentChange($event)">
      <ion-segment-button value="bookInfo">
        <span>Book Info</span>
      </ion-segment-button>
      <ion-segment-button value="sellerInfo">
        <span>Seller Info</span>
      </ion-segment-button>
    </ion-segment> -->


    <!-- <div [ngSwitch]="tabInfo">
      <div *ngSwitchCase="'bookInfo'" style="text-align:center;">
        <div>
          <br>
          <div style="font-weight: 500;font-size: 16px;">{{ bookObj.name}}</div>
          <span style="margin-left: 25%;
            font-size: 14px;" *ngIf="bookObj.author"> - {{ bookObj.author}}</span>
        </div>
        <div>
          <span *ngIf="bookObj.description">
            <p>[ {{ bookObj.description}} ]</p>
          </span>
        </div> -->
        <!-- <div style="border-bottom: 1px solid #eae1e1;">
          <div style="text-align: start;padding-top: 10px;">Description : </div>
          <div style="text-align: start; padding-left: 12px;font-size: 15px;padding-top: 10px; padding-bottom: 11px;">
            <span style="padding-left:24%">&nbsp;</span><span>{{ bookObj.description}}</span>
          </div>
        </div> -->
        <!-- <br>
        <div id="bookinfoDetails">
          <ion-row>
            <ion-col>Book Type</ion-col>
            <ion-col>-</ion-col>
            <ion-col>{{ bookObj.bookType}} </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Price</ion-col>
            <ion-col>-</ion-col>
            <ion-col> <i class="fa fa-rupee"></i> {{ bookObj.price}} </ion-col>
          </ion-row>
          <ion-row>
            <ion-col>publisher</ion-col>
            <ion-col>-</ion-col>
            <ion-col>{{ bookObj.publisher}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col>Edition</ion-col>
            <ion-col>-</ion-col>
            <ion-col>{{ bookObj.edition}}</ion-col>
          </ion-row>
          <div *ngIf="bookObj.isAcademic == 'Y'">
            <ion-row>
              <ion-col>Course</ion-col>
              <ion-col>-</ion-col>
              <ion-col>{{ bookObj.bookAcademic[0]?.course}}</ion-col>
            </ion-row>
            <ion-row *ngIf="bookObj.bookAcademic[0]?.subcourse">
              <ion-col>Degree</ion-col>
              <ion-col>-</ion-col>
              <ion-col>{{ bookObj.bookAcademic[0]?.subcourse}}</ion-col>
            </ion-row>
            <ion-row>
              <ion-col>Branch</ion-col>
              <ion-col>-</ion-col>
              <ion-col>{{ bookObj.bookAcademic[0]?.branch}}</ion-col>
            </ion-row>
            <ion-row>
              <ion-col>Year/Sem</ion-col>
              <ion-col>-</ion-col>
              <ion-col><span *ngIf="bookObj.year || bookObj.sem"> {{ bookObj.bookAcademic[0]?.year}} ||
                  {{ bookObj.bookAcademic[0]?.sem}} </span></ion-col>
            </ion-row>
          </div>

          <div style="font-size: 13px;float: right;    margin-top: 8px;"> <span>Posted on - </span><span>{{bookObj.created_date
              | date:'dd/MM/yyyy' }}</span></div>
        </div>
      </div> -->
      <!-- <div *ngSwitchCase="'sellerInfo'" style="text-align:center;">
          <div id="sellerinfoDetails">
          <ion-row>
              <ion-col>Phone no</ion-col>
              <ion-col>-</ion-col>
              <ion-col> {{ bookObj.bookContact[0].phoneNo}} </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>Address</ion-col>
                <ion-col>-</ion-col>
                <ion-col> {{ bookObj.bookContact[0].address}} </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>Landmark</ion-col>
                <ion-col>-</ion-col>
                <ion-col> {{ bookObj.bookContact[0].landmark}} </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>Pincode</ion-col>
                <ion-col>-</ion-col>
                <ion-col> {{ bookObj.bookContact[0].pincode}} </ion-col>
            </ion-row>
            <ion-row>
                <ion-col>College</ion-col>
                <ion-col>-</ion-col>
                <ion-col> {{ bookObj.bookContact[0].college}} </ion-col>
            </ion-row>
          </div>
      </div> -->
      <!-- <div *ngSwitchCase="'sellerInfo'" style="text-align:center;">
        <div id="sellerinfoDetails" *ngIf="userInfo && userInfo.uid">
          <ion-row>
            <ion-col style="text-align: inherit">Phone:</ion-col>
            <ion-col style="text-align: left"><span>{{ bookObj.bookContact[0]?.phoneNo}}</span>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              <ion-icon name="call" (click)="call()" *ngIf="bookObj.bookContact[0] && bookObj.bookContact[0].phoneNo">
              </ion-icon>
            </ion-col>

          </ion-row>

          <ion-row>
            <ion-col style="text-align: inherit">Email:</ion-col>
            <ion-col style="text-align: left"><span>{{ bookObj.bookContact[0]?.email}}</span>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col style="text-align: inherit">Address:</ion-col>
            <ion-col style="text-align: left"><span>{{ bookObj.bookContact[0]?.address}}</span>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col style="text-align: inherit">Landmark:</ion-col>
            <ion-col style="text-align: left"><span>{{bookObj.bookContact[0]?.landmark}}</span>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col style="text-align: inherit">Pincode:</ion-col>
            <ion-col style="text-align: left"><span>{{ bookObj.bookContact[0]?.pincode}}</span>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col style="text-align: inherit">College:</ion-col>
            <ion-col style="text-align: left"><span>{{bookObj.bookContact[0]?.college}}</span>
            </ion-col>
          </ion-row>
          <ion-row>&nbsp;</ion-row>
          <ion-row>
            <ion-col no-padding>
              <ion-icon name="mail" (click)="sendEmail() && bookObj.bookContact[0]"></ion-icon>
            </ion-col>
            <ion-col no-padding *ngIf="bookObj.bookContact[0] && bookObj.bookContact[0].phoneNo">
              <ion-icon name="logo-whatsapp" (click)="sendWhatsAppMsg()"></ion-icon>
            </ion-col>
            <ion-col no-padding>
              <ion-icon name="share" (click)="share()"></ion-icon>
            </ion-col>
          </ion-row>
        </div>
      </div>

    </div> -->

  </div>

  <div *ngIf="showImgSlide" class="imagePopUp">
    <!-- <ion-icon ios="ios-arrow-round-back" md="ios-arrow-round-back" style="font-size: 35px;" (click)="showImgSlide=false"></ion-icon> -->
    <!-- <ion-fab style="margin-left: 85%;" (click)="showImgSlide=false">
      <button ion-fab mini style="background-color: #488aff73;">
        <ion-icon name="close-circle"></ion-icon>
      </button>
    </ion-fab> -->
    <!-- <ion-fab vertical="bottom" horizontal="end" slot="fixed">
      <button ion-fab-button>
        <ion-icon name="close-circle"></ion-icon>
      </button>
    </ion-fab> -->
    <ion-fab class="imgBackFabBtn">
      <button ion-fab mini style="background-color: #488aff73;" (click)="showImgSlide=false">
        <ion-icon ios="ios-arrow-round-back" md="ios-arrow-round-back" style="font-size: 35px;"></ion-icon>
      </button>
    </ion-fab>
    <ion-slides zoom="true" pager="true">
      <ion-slide *ngFor="let photo of bookObj.bookImages; let id = index">
        <div class="swiper-zoom-container">
          <img alt="No Image" [src]="'data:image/jpeg;base64,' + photo.image.data" />
        </div>
      </ion-slide>
    </ion-slides>
  </div>
</ion-content>


